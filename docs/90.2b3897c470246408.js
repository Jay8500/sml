"use strict";(self.webpackChunksml=self.webpackChunksml||[]).push([[90],{1090:(U,c,a)=>{a.r(c),a.d(c,{ClientsModule:()=>K});var g=a(6814),e=a(4769),s=a(5219),u=a(8645),p=a(9773),m=a(4850),h=a(707),f=a(7992),C=a(5359),M=a(6218),_=a(2352),v=a(4104),b=a(7213),l=a(95),x=a(6782);function y(i,F){if(1&i){const t=e.EpF();e.TgZ(0,"p-divider",6)(1,"span",7),e._uU(2,"Create Client"),e.qZA()(),e.TgZ(3,"div",8)(4,"div",9)(5,"div",10)(6,"label",11),e._uU(7,"Name"),e.qZA(),e.TgZ(8,"input",12),e.NdJ("ngModelChange",function(n){e.CHM(t);const r=e.oxw();return e.KtG(r.createMaster.name=n)}),e.qZA()(),e.TgZ(9,"div",10)(10,"label",11),e._uU(11,"Aadhar"),e.qZA(),e.TgZ(12,"input",13),e.NdJ("ngModelChange",function(n){e.CHM(t);const r=e.oxw();return e.KtG(r.createMaster.aadhar=n)}),e.qZA()(),e.TgZ(13,"div",10)(14,"label",11),e._uU(15,"Code"),e.qZA(),e.TgZ(16,"input",14),e.NdJ("ngModelChange",function(n){e.CHM(t);const r=e.oxw();return e.KtG(r.createMaster.ccode=n)}),e.qZA()(),e.TgZ(17,"div",10)(18,"label",11),e._uU(19,"Branch"),e.qZA(),e.TgZ(20,"p-dropdown",15),e.NdJ("ngModelChange",function(n){e.CHM(t);const r=e.oxw();return e.KtG(r.createMaster.branch_id=n)}),e.qZA()(),e.TgZ(21,"div",10)(22,"label",11),e._uU(23,"District"),e.qZA(),e.TgZ(24,"input",12),e.NdJ("ngModelChange",function(n){e.CHM(t);const r=e.oxw();return e.KtG(r.createMaster.district=n)}),e.qZA()(),e.TgZ(25,"div",10)(26,"label",11),e._uU(27,"State"),e.qZA(),e.TgZ(28,"input",12),e.NdJ("ngModelChange",function(n){e.CHM(t);const r=e.oxw();return e.KtG(r.createMaster.state=n)}),e.qZA()(),e.TgZ(29,"div",10)(30,"label",11),e._uU(31,"Pincode"),e.qZA(),e.TgZ(32,"input",16),e.NdJ("ngModelChange",function(n){e.CHM(t);const r=e.oxw();return e.KtG(r.createMaster.pincode=n)}),e.qZA()(),e.TgZ(33,"div",10)(34,"label",11),e._uU(35,"Contact No."),e.qZA(),e.TgZ(36,"input",17),e.NdJ("ngModelChange",function(n){e.CHM(t);const r=e.oxw();return e.KtG(r.createMaster.contact_no=n)}),e.qZA()(),e.TgZ(37,"div",10)(38,"label",11),e._uU(39,"Description"),e.qZA(),e.TgZ(40,"textarea",18),e.NdJ("ngModelChange",function(n){e.CHM(t);const r=e.oxw();return e.KtG(r.createMaster.description=n)}),e.qZA()(),e.TgZ(41,"div",10)(42,"input",19),e.NdJ("ngModelChange",function(n){e.CHM(t);const r=e.oxw();return e.KtG(r.createMaster.active=n)}),e.qZA(),e.TgZ(43,"label",20),e._uU(44,"Active"),e.qZA()()()()}if(2&i){const t=e.oxw();e.xp6(8),e.Q6J("ngModel",t.createMaster.name),e.xp6(4),e.Q6J("ngModel",t.createMaster.aadhar)("pKeyFilter","num"),e.xp6(4),e.Q6J("ngModel",t.createMaster.ccode),e.xp6(4),e.Q6J("options",t.branches)("ngModel",t.createMaster.branch_id),e.xp6(4),e.Q6J("ngModel",t.createMaster.district),e.xp6(4),e.Q6J("ngModel",t.createMaster.state),e.xp6(4),e.Q6J("ngModel",t.createMaster.pincode)("pKeyFilter","num"),e.xp6(4),e.Q6J("ngModel",t.createMaster.contact_no)("pKeyFilter","num"),e.xp6(4),e.Q6J("ngModel",t.createMaster.description),e.xp6(2),e.Q6J("ngModel",t.createMaster.active)("disabled",!0)}}function Z(i,F){if(1&i){const t=e.EpF();e.TgZ(0,"div",21)(1,"div",22)(2,"button",23),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.hideDialog())}),e.qZA()(),e.TgZ(3,"div",22)(4,"button",24),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.saveProduct())}),e.qZA()()()}}const T=function(){return{width:"50vw"}},w=function(){return{"960px":"75vw"}};let S=(()=>{class i{constructor(){this._service=(0,e.f3M)(m.r),this.destroy$=new u.x,this.MessageService=(0,e.f3M)(s.ez),this.caderCols=[{header:"Borrower Name",style:{width:"25rem"},showSort:!0,field:"name"},{header:"Aadhar",style:{width:"14rem"},showSort:!0,field:"aadhar"},{header:"SML Code",style:{width:"15rem"},showSort:!0,field:"ccode"},{header:"Description",style:{width:"10rem"},showSort:!0,field:"description"},{header:"Branch",style:{width:"10rem"},showSort:!0,field:"branch_name"},{header:"District",style:{width:"10rem"},showSort:!0,field:"district"},{header:"State",style:{width:"10rem"},showSort:!0,field:"state"},{header:"Pincode",style:{width:"10rem"},showSort:!0,field:"pincode"},{header:"Contact No.",style:{width:"12rem"},showSort:!0,field:"contact_no"},{header:"Created By",style:{width:"13rem"},showSort:!0,field:"byemployeename"},{header:"Status",style:{width:"10rem"},showSort:!1,field:"active",color:[{width:"10rem",color:"#FF0000"},{width:"10rem",color:"#00FF00"}]}],this.isClicked=!1,this.createMaster={name:"",aadhar:"",ccode:"",description:"",branch_id:null,cader_id:this._service.getUserInfo("cader"),district:null,state:null,pincode:null,contact_no:null,byemployee:this._service.getUserInfo("_id"),byemployeename:this._service.getUserInfo("uname"),active:!0},this.defaultMaster=JSON.stringify(this.createMaster),this.branches=[{label:"Select Branches",value:null}],this.caders=[{label:"Select Caders",value:null}],this.loading=!1}isEnabled(t){this.isClicked=t}ngOnInit(){this._service.postApi("getBranch","postEndPoint",null).pipe((0,p.R)(this.destroy$)).subscribe({next:t=>{200==t.S_CODE&&t.DATA.forEach((o,n)=>{this.branches.push({label:o.bname,value:o._id})})},error:t=>{}})}saveProduct(){this.loading=!0;try{let t=JSON.parse(JSON.stringify(this.createMaster));t.flag="S",this._service.postApi("createBorrowers","postEndPoint",t).pipe((0,p.R)(this.destroy$)).subscribe({next:n=>{200==n.S_CODE?(this.MessageService.add({severity:"success",summary:"Success",detail:`${n.S_MSG}`}),this.loading=!1,this.createMaster=JSON.parse(this.defaultMaster)):300==n.S_CODE&&(this.MessageService.add({severity:"error",summary:"Error",detail:`${n.S_MSG}`}),this.loading=!1)},error:n=>{this.loading=!1}})}catch{}this.loading=!1}hideDialog(){this.MessageService.clear(),this.isClicked=!1,this.createMaster=JSON.parse(this.defaultMaster)}static#e=this.\u0275fac=function(o){return new(o||i)};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-clients"]],features:[e._Bn([s.ez])],decls:6,vars:12,consts:[[1,"grid"],[3,"headerName","masterApiKey","cols","isEnabled"],["styleClass","p-fluid",3,"visible","modal","breakpoints","draggable","resizable","visibleChange"],["pTemplate","content"],["pTemplate","footer"],["position","center"],["align","center"],[1,"p-tag","p-1"],[1,"flex","flex-colum","align-items-center","justify-content-center"],[1,"m-3"],[1,"field"],["for","firstname2"],["id","firstname2","type","text",1,"text-base","text-color","surface-overlay","p-2","border-1","border-solid","surface-border","border-round","appearance-none","outline-none","focus:border-primary","w-full",3,"ngModel","ngModelChange"],["id","firstname2","type","text","maxlength","12",1,"text-base","text-color","surface-overlay","p-2","border-1","border-solid","surface-border","border-round","appearance-none","outline-none","focus:border-primary","w-full",3,"ngModel","pKeyFilter","ngModelChange"],["id","firstname2","type","text","maxlength","10",1,"text-base","text-color","surface-overlay","p-2","border-1","border-solid","surface-border","border-round","appearance-none","outline-none","focus:border-primary","w-full",3,"ngModel","ngModelChange"],["styleClass","h-2.2rem w-full",3,"options","ngModel","ngModelChange"],["id","firstname2","type","text","maxlength","6",1,"text-base","text-color","surface-overlay","p-2","border-1","border-solid","surface-border","border-round","appearance-none","outline-none","focus:border-primary","w-full",3,"ngModel","pKeyFilter","ngModelChange"],["id","firstname2","type","text","maxlength","10",1,"text-base","text-color","surface-overlay","p-2","border-1","border-solid","surface-border","border-round","appearance-none","outline-none","focus:border-primary","w-full",3,"ngModel","pKeyFilter","ngModelChange"],["rows","5","cols","30","pInputTextarea","",3,"ngModel","ngModelChange"],["type","checkbox","name","master","id","1",3,"ngModel","disabled","ngModelChange"],["for","lastname2",1,"ml-2"],[1,"flex","align-items-center","justify-content-center","m-2"],[1,"p-1"],["pButton","","pRipple","","label","Cancel",1,"p-button-info","p-1","m-2",3,"click"],["pButton","","pRipple","","label","Save",1,"p-button-primary","p-1","m-2",3,"click"]],template:function(o,n){1&o&&(e.TgZ(0,"div",0)(1,"crudgrid",1),e.NdJ("isEnabled",function(d){return n.isEnabled(d)}),e.qZA()(),e.TgZ(2,"p-dialog",2),e.NdJ("visibleChange",function(d){return n.isClicked=d}),e.YNc(3,y,45,15,"ng-template",3),e.YNc(4,Z,5,0,"ng-template",4),e.qZA(),e._UZ(5,"p-toast",5)),2&o&&(e.xp6(1),e.Q6J("headerName","Manage Borrowers")("masterApiKey","getBorrowers")("cols",n.caderCols),e.xp6(1),e.Akn(e.DdM(10,T)),e.Q6J("visible",n.isClicked)("modal",!0)("breakpoints",e.DdM(11,w))("draggable",!1)("resizable",!1))},dependencies:[h.Hq,s.jx,f.w,C.i,M.g,_.Lt,v.FN,b.V,l.Fj,l.Wl,l.JJ,l.nD,l.On,x.Fr]})}return i})();var A=a(4670),J=a(7454);const N=[{path:"",component:S}];let K=(()=>{class i{static#e=this.\u0275fac=function(o){return new(o||i)};static#t=this.\u0275mod=e.oAB({type:i});static#n=this.\u0275inj=e.cJS({imports:[g.ez,J.m,l.u5,A.Bz.forChild(N)]})}return i})()}}]);