"use strict";(self.webpackChunksml=self.webpackChunksml||[]).push([[155],{8155:(E,c,s)=>{s.r(c),s.d(c,{UsersModule:()=>J});var m=s(6814),e=s(4769),i=s(5219),u=s(8645),p=s(9773),g=s(4850),h=s(707),f=s(7992),v=s(5359),_=s(6218),M=s(2352),C=s(4104),b=s(7213),o=s(95);function x(l,N){if(1&l){const t=e.EpF();e.TgZ(0,"p-divider",7)(1,"span",8),e._uU(2,"Create User"),e.qZA()(),e.TgZ(3,"div",9)(4,"div",10)(5,"div",11)(6,"label",12),e._uU(7,"User Name"),e.qZA(),e.TgZ(8,"input",13),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.createMaster.master_name=n)}),e.qZA()(),e.TgZ(9,"div",11)(10,"label",12),e._uU(11,"Password"),e.qZA(),e.TgZ(12,"input",13),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.createMaster.password=n)}),e.qZA()(),e.TgZ(13,"div",11)(14,"label",12),e._uU(15,"Cader"),e.qZA(),e.TgZ(16,"p-dropdown",14),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.createMaster.cader_id=n)}),e.qZA()(),e.TgZ(17,"div",11)(18,"label",12),e._uU(19,"Department"),e.qZA(),e.TgZ(20,"p-dropdown",14),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.createMaster.dep_id=n)}),e.qZA()(),e.TgZ(21,"div",11)(22,"label",12),e._uU(23,"Description"),e.qZA(),e.TgZ(24,"textarea",15),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.createMaster.description=n)}),e.qZA()(),e.TgZ(25,"div",11)(26,"input",16),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.createMaster.active=n)}),e.qZA(),e.TgZ(27,"label",17),e._uU(28,"Active"),e.qZA()()()()}if(2&l){const t=e.oxw();e.xp6(8),e.Q6J("ngModel",t.createMaster.master_name),e.xp6(4),e.Q6J("ngModel",t.createMaster.password),e.xp6(4),e.Q6J("options",t.caders)("ngModel",t.createMaster.cader_id),e.xp6(4),e.Q6J("options",t.departments)("ngModel",t.createMaster.dep_id),e.xp6(4),e.Q6J("ngModel",t.createMaster.description),e.xp6(2),e.Q6J("ngModel",t.createMaster.active)("disabled",!0)}}function y(l,N){if(1&l){const t=e.EpF();e.TgZ(0,"div",18)(1,"div",19)(2,"button",20),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.hideDialog())}),e.qZA()(),e.TgZ(3,"div",19)(4,"button",21),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.saveProduct())}),e.qZA()()()}}const Z=function(){return{width:"50vw"}},T=function(){return{"960px":"75vw"}};let w=(()=>{class l{constructor(){this.onlyGenderProps={active:null,cader:null,department:null,create_by:null,create_dt:null,modify_by:null,modify_dt:null,password:null,uname:null},this.userCols=[{header:"Name",style:{width:"10rem"},showSort:!0,field:"uname"},{header:"Cader",style:{width:"10rem"},showSort:!0,field:"cader"},{header:"Department",style:{width:"10rem"},showSort:!0,field:"department"},{header:"Status",style:"width:10rem",showSort:!1,field:"active",color:[{width:"10rem",color:"#FF0000"},{width:"10rem",color:"#00FF00"}]}],this.isClicked=!1,this.createMaster={master_name:"",password:"",description:"",branch_id:null,cader_id:null,dep_id:null,active:!0},this.branches=[{label:"Select Branches",value:null}],this.caders=[{label:"Select Caders",value:null}],this.departments=[{label:"Select Department",value:null}],this._service=(0,e.f3M)(g.r),this.destroy$=new u.x,this.MessageService=(0,e.f3M)(i.ez),this.loading=!1}ngOnInit(){this._service.postApi("caders","postEndPoint",null).pipe((0,p.R)(this.destroy$)).subscribe({next:t=>{200==t.S_CODE&&(this.caders=[{label:"Select Caders",value:null}],t.DATA.forEach((r,n)=>{this.caders.push({label:r.cdname,value:r._id})}))},error:t=>{}})}isEnabled(t){this.isClicked=t}hideDialog(){this.isClicked=!1}saveProduct(){let t=JSON.parse(JSON.stringify(this.createMaster));t.flag="S",t.uname=this.createMaster.master_name,t.password=this.createMaster.password,t.cader=this.createMaster.cader_id,t.department=this.createMaster.dep_id,delete t.master_name,delete t.branch_id,delete t.password,delete t.cader_id,this.loading=!0,this._service.postApi("smlusers","postEndPoint",t).pipe((0,p.R)(this.destroy$)).subscribe({next:n=>{200==n.S_CODE?(this.MessageService.add({severity:"success",summary:"Success",detail:`${n.S_MSG}`}),this.loading=!1):300==n.S_CODE&&(this.MessageService.add({severity:"error",summary:"Error",detail:`${n.S_MSG}`}),this.loading=!1)},error:n=>{console.log("error",n),this.loading=!1}})}static#e=this.\u0275fac=function(r){return new(r||l)};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-users"]],features:[e._Bn([i.ez])],decls:7,vars:13,consts:[[1,"grid"],["g",""],[3,"headerName","masterApiKey","cols","onlyGenderProps","isEnabled"],["styleClass","p-fluid",3,"visible","modal","breakpoints","draggable","resizable","visibleChange"],["pTemplate","content"],["pTemplate","footer"],["position","top-right"],["align","center"],[1,"p-tag","p-1"],[1,"flex","flex-colum","align-items-center","justify-content-center"],[1,"m-3"],[1,"field"],["for","firstname2"],["id","firstname2","type","text",1,"text-base","text-color","surface-overlay","p-2","border-1","border-solid","surface-border","border-round","appearance-none","outline-none","focus:border-primary","w-full",3,"ngModel","ngModelChange"],["styleClass","h-2.2rem w-full",3,"options","ngModel","ngModelChange"],["rows","5","cols","30","pInputTextarea","",3,"ngModel","ngModelChange"],["type","checkbox","name","master","id","1",3,"ngModel","disabled","ngModelChange"],["for","lastname2",1,"ml-2"],[1,"flex","align-items-center","justify-content-center","m-2"],[1,"p-1"],["pButton","","pRipple","","label","Cancel",1,"p-button-info","p-1","m-2",3,"click"],["pButton","","pRipple","","label","Save",1,"p-button-primary","p-1","m-2",3,"click"]],template:function(r,n){1&r&&(e.TgZ(0,"div",0,1)(2,"crudgrid",2),e.NdJ("isEnabled",function(d){return n.isEnabled(d)}),e.qZA()(),e.TgZ(3,"p-dialog",3),e.NdJ("visibleChange",function(d){return n.isClicked=d}),e.YNc(4,x,29,9,"ng-template",4),e.YNc(5,y,5,0,"ng-template",5),e.qZA(),e._UZ(6,"p-toast",6)),2&r&&(e.xp6(2),e.Q6J("headerName","Manage Users")("masterApiKey","smlgetusers")("cols",n.userCols)("onlyGenderProps",n.onlyGenderProps),e.xp6(1),e.Akn(e.DdM(11,Z)),e.Q6J("visible",n.isClicked)("modal",!0)("breakpoints",e.DdM(12,T))("draggable",!1)("resizable",!1))},dependencies:[h.Hq,i.jx,f.w,v.i,_.g,M.Lt,C.FN,b.V,o.Fj,o.Wl,o.JJ,o.On]})}return l})();var U=s(4670),A=s(7454);const S=[{path:"",component:w}];let J=(()=>{class l{static#e=this.\u0275fac=function(r){return new(r||l)};static#t=this.\u0275mod=e.oAB({type:l});static#n=this.\u0275inj=e.cJS({imports:[m.ez,A.m,o.u5,U.Bz.forChild(S)]})}return l})()}}]);