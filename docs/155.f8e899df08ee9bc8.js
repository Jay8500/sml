"use strict";(self.webpackChunksml=self.webpackChunksml||[]).push([[155],{8155:(N,c,n)=>{n.r(c),n.d(c,{UsersModule:()=>J});var m=n(6814),e=n(4769),i=n(5219),u=n(8645),p=n(9773),g=n(4850),h=n(707),f=n(7992),v=n(5359),C=n(6218),M=n(2352),_=n(4104),x=n(7213),o=n(95);function y(a,w){if(1&a){const t=e.EpF();e.TgZ(0,"p-divider",7)(1,"span",8),e._uU(2,"Create User"),e.qZA()(),e.TgZ(3,"div",9)(4,"div",10)(5,"div",11)(6,"label",12),e._uU(7,"User Name"),e.qZA(),e.TgZ(8,"input",13),e.NdJ("ngModelChange",function(s){e.CHM(t);const l=e.oxw();return e.KtG(l.createMaster.master_name=s)}),e.qZA()(),e.TgZ(9,"div",11)(10,"label",12),e._uU(11,"Password"),e.qZA(),e.TgZ(12,"input",13),e.NdJ("ngModelChange",function(s){e.CHM(t);const l=e.oxw();return e.KtG(l.createMaster.password=s)}),e.qZA()(),e.TgZ(13,"div",11)(14,"label",12),e._uU(15,"Cader"),e.qZA(),e.TgZ(16,"p-dropdown",14),e.NdJ("ngModelChange",function(s){e.CHM(t);const l=e.oxw();return e.KtG(l.createMaster.cader_id=s)}),e.qZA()(),e.TgZ(17,"div",11)(18,"label",12),e._uU(19,"Description"),e.qZA(),e.TgZ(20,"textarea",15),e.NdJ("ngModelChange",function(s){e.CHM(t);const l=e.oxw();return e.KtG(l.createMaster.description=s)}),e.qZA()(),e.TgZ(21,"div",11)(22,"input",16),e.NdJ("ngModelChange",function(s){e.CHM(t);const l=e.oxw();return e.KtG(l.createMaster.active=s)}),e.qZA(),e.TgZ(23,"label",17),e._uU(24,"Active"),e.qZA()()()()}if(2&a){const t=e.oxw();e.xp6(8),e.Q6J("ngModel",t.createMaster.master_name),e.xp6(4),e.Q6J("ngModel",t.createMaster.password),e.xp6(4),e.Q6J("options",t.caders)("ngModel",t.createMaster.cader_id),e.xp6(4),e.Q6J("ngModel",t.createMaster.description),e.xp6(2),e.Q6J("ngModel",t.createMaster.active)("disabled",!0)}}function b(a,w){if(1&a){const t=e.EpF();e.TgZ(0,"div",18)(1,"div",19)(2,"button",20),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.hideDialog())}),e.qZA()(),e.TgZ(3,"div",19)(4,"button",21),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.saveProduct())}),e.qZA()()()}if(2&a){const t=e.oxw();e.xp6(4),e.Q6J("loading",t.loading)}}const Z=function(){return{width:"50rem",height:"30rem"}};let T=(()=>{class a{constructor(){this.onlyGenderProps={active:null,cader:null,create_by:null,create_dt:null,modify_by:null,modify_dt:null,password:null,uname:null},this.userCols=[{header:"Name",style:"width:30rem",showSort:!0,field:"uname"},{header:"Cader",style:"width:30rem",showSort:!0,field:"cader"},{header:"Status",style:"width:30rem",showSort:!1,field:"active"}],this.isClicked=!1,this.createMaster={master_name:"",password:"",description:"",branch_id:null,cader_id:null,active:!0},this.branches=[{label:"Select Branches",value:null}],this.caders=[{label:"Select Caders",value:null}],this._service=(0,e.f3M)(g.r),this.destroy$=new u.x,this.MessageService=(0,e.f3M)(i.ez),this.loading=!1}ngOnInit(){this._service.postApi("caders","postEndPoint",null).pipe((0,p.R)(this.destroy$)).subscribe({next:t=>{200==t.S_CODE&&(this.caders=[{label:"Select Caders",value:null}],t.DATA.forEach((r,s)=>{this.caders.push({label:r.cdname,value:r._id})}))},error:t=>{}})}isEnabled(t){this.isClicked=t}hideDialog(){this.isClicked=!1}saveProduct(){let t=JSON.parse(JSON.stringify(this.createMaster));t.flag="S",t.uname=this.createMaster.master_name,t.password=this.createMaster.password,t.cader=this.createMaster.cader_id,delete t.master_name,delete t.branch_id,delete t.password,delete t.cader_id,this.loading=!0,this._service.postApi("smlusers","postEndPoint",t).pipe((0,p.R)(this.destroy$)).subscribe({next:s=>{200==s.S_CODE?(this.MessageService.add({severity:"success",summary:"Success",detail:`${s.S_MSG}`}),this.loading=!1):300==s.S_CODE&&(this.MessageService.add({severity:"error",summary:"Error",detail:`${s.S_MSG}`}),this.loading=!1)},error:s=>{console.log("error",s),this.loading=!1}})}static#e=this.\u0275fac=function(r){return new(r||a)};static#t=this.\u0275cmp=e.Xpm({type:a,selectors:[["app-users"]],features:[e._Bn([i.ez])],decls:7,vars:10,consts:[[1,"grid"],["g",""],[3,"headerName","masterApiKey","cols","onlyGenderProps","isEnabled"],["appendTo","'body","styleClass","p-fluid",3,"visible","baseZIndex","modal","visibleChange"],["pTemplate","content"],["pTemplate","footer"],["position","top-right"],["align","center"],[1,"p-tag","p-1"],[1,"flex","flex-colum","align-items-center","justify-content-center"],[1,"m-3"],[1,"field"],["for","firstname2"],["id","firstname2","type","text",1,"text-base","text-color","surface-overlay","p-2","border-1","border-solid","surface-border","border-round","appearance-none","outline-none","focus:border-primary","w-full",3,"ngModel","ngModelChange"],["styleClass","h-2.2rem w-full",3,"options","ngModel","ngModelChange"],["rows","5","cols","30","pInputTextarea","",3,"ngModel","ngModelChange"],["type","checkbox","name","master","id","1",3,"ngModel","disabled","ngModelChange"],["for","lastname2",1,"ml-2"],[1,"flex","align-items-center","justify-content-center","m-2"],[1,"p-1"],["pButton","","pRipple","","icon","pi pi-times","label","Cancel","styleClass","p-button-rounded ",1,"w-10rem","p-1","text-xl",3,"click"],["pButton","","pRipple","","label","Save","icon","pi pi-check","styleClass","p-button-rounded ",1,"w-10rem","p-1","text-xl",3,"loading","click"]],template:function(r,s){1&r&&(e.TgZ(0,"div",0,1)(2,"crudgrid",2),e.NdJ("isEnabled",function(d){return s.isEnabled(d)}),e.qZA()(),e.TgZ(3,"p-dialog",3),e.NdJ("visibleChange",function(d){return s.isClicked=d}),e.YNc(4,y,25,7,"ng-template",4),e.YNc(5,b,5,1,"ng-template",5),e.qZA(),e._UZ(6,"p-toast",6)),2&r&&(e.xp6(2),e.Q6J("headerName","Manage Users")("masterApiKey","smlgetusers")("cols",s.userCols)("onlyGenderProps",s.onlyGenderProps),e.xp6(1),e.Akn(e.DdM(9,Z)),e.Q6J("visible",s.isClicked)("baseZIndex",999999)("modal",!0))},dependencies:[h.Hq,i.jx,f.w,v.i,C.g,M.Lt,_.FN,x.V,o.Fj,o.Wl,o.JJ,o.On]})}return a})();var U=n(4670),A=n(8398);const S=[{path:"",component:T}];let J=(()=>{class a{static#e=this.\u0275fac=function(r){return new(r||a)};static#t=this.\u0275mod=e.oAB({type:a});static#s=this.\u0275inj=e.cJS({imports:[m.ez,A.m,o.u5,U.Bz.forChild(S)]})}return a})()}}]);