"use strict";(self.webpackChunksml=self.webpackChunksml||[]).push([[473],{9473:(G,c,a)=>{a.r(c),a.d(c,{BranchesModule:()=>N});var g=a(6814),e=a(4769),l=a(5219),h=a(8645),p=a(9773),u=a(4850),m=a(707),f=a(7992),M=a(5359),_=a(6218),C=a(2352),b=a(4104),v=a(7213),i=a(95),x=a(6782);function y(s,K){if(1&s){const t=e.EpF();e.TgZ(0,"p-divider",6)(1,"span",7),e._uU(2,"Create Branch"),e.qZA()(),e.TgZ(3,"div",8)(4,"div",9)(5,"div",10)(6,"label",11),e._uU(7,"Company"),e.qZA(),e.TgZ(8,"p-dropdown",12),e.NdJ("ngModelChange",function(n){e.CHM(t);const r=e.oxw();return e.KtG(r.createMaster.cId=n)}),e.qZA()(),e.TgZ(9,"div",10)(10,"label",11),e._uU(11,"Branch Name"),e.qZA(),e.TgZ(12,"input",13),e.NdJ("ngModelChange",function(n){e.CHM(t);const r=e.oxw();return e.KtG(r.createMaster.bname=n)}),e.qZA()(),e.TgZ(13,"div",10)(14,"label",11),e._uU(15,"Branch Code"),e.qZA(),e.TgZ(16,"input",14),e.NdJ("ngModelChange",function(n){e.CHM(t);const r=e.oxw();return e.KtG(r.createMaster.bcode=n)}),e.qZA()(),e.TgZ(17,"div",10)(18,"label",11),e._uU(19,"Branch Opening On"),e.qZA(),e.TgZ(20,"input",15),e.NdJ("ngModelChange",function(n){e.CHM(t);const r=e.oxw();return e.KtG(r.createMaster.b_opn_dt=n)}),e.qZA()(),e.TgZ(21,"div",10)(22,"label",11),e._uU(23,"District"),e.qZA(),e.TgZ(24,"input",15),e.NdJ("ngModelChange",function(n){e.CHM(t);const r=e.oxw();return e.KtG(r.createMaster.district=n)}),e.qZA()(),e.TgZ(25,"div",10)(26,"label",11),e._uU(27,"State"),e.qZA(),e.TgZ(28,"input",15),e.NdJ("ngModelChange",function(n){e.CHM(t);const r=e.oxw();return e.KtG(r.createMaster.state=n)}),e.qZA()(),e.TgZ(29,"div",10)(30,"label",11),e._uU(31,"Pincode"),e.qZA(),e.TgZ(32,"input",16),e.NdJ("ngModelChange",function(n){e.CHM(t);const r=e.oxw();return e.KtG(r.createMaster.pincode=n)}),e.qZA()(),e.TgZ(33,"div",10)(34,"label",11),e._uU(35,"Contact No."),e.qZA(),e.TgZ(36,"input",17),e.NdJ("ngModelChange",function(n){e.CHM(t);const r=e.oxw();return e.KtG(r.createMaster.contact_no=n)}),e.qZA()(),e.TgZ(37,"div",10)(38,"label",11),e._uU(39,"Description"),e.qZA(),e.TgZ(40,"textarea",18),e.NdJ("ngModelChange",function(n){e.CHM(t);const r=e.oxw();return e.KtG(r.createMaster.desc=n)}),e.qZA()(),e.TgZ(41,"div",10)(42,"input",19),e.NdJ("ngModelChange",function(n){e.CHM(t);const r=e.oxw();return e.KtG(r.createMaster.active=n)}),e.qZA(),e.TgZ(43,"label",20),e._uU(44,"Active"),e.qZA()()()()}if(2&s){const t=e.oxw();e.xp6(8),e.Q6J("options",t.companies)("ngModel",t.createMaster.cId),e.xp6(4),e.Q6J("ngModel",t.createMaster.bname),e.xp6(4),e.Q6J("ngModel",t.createMaster.bcode),e.xp6(4),e.Q6J("ngModel",t.createMaster.b_opn_dt),e.xp6(4),e.Q6J("ngModel",t.createMaster.district),e.xp6(4),e.Q6J("ngModel",t.createMaster.state),e.xp6(4),e.Q6J("ngModel",t.createMaster.pincode)("pKeyFilter","num"),e.xp6(4),e.Q6J("ngModel",t.createMaster.contact_no)("pKeyFilter","num"),e.xp6(4),e.Q6J("ngModel",t.createMaster.desc)("pKeyFilter","alphanum"),e.xp6(2),e.Q6J("ngModel",t.createMaster.active)("disabled",!0)}}function Z(s,K){if(1&s){const t=e.EpF();e.TgZ(0,"div",21)(1,"div",22)(2,"button",23),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.hideDialog())}),e.qZA()(),e.TgZ(3,"div",22)(4,"button",24),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.saveProduct())}),e.qZA()()()}}const T=function(){return{width:"50vw"}},w=function(){return{"960px":"75vw"}};let B=(()=>{class s{constructor(){this.caderCols=[{header:"Company",style:{width:"15rem"},showSort:!0,field:"cname"},{header:"Branch Name",style:{width:"15rem"},showSort:!0,field:"bname"},{header:"Branch Code",style:{width:"10rem"},showSort:!0,field:"bcode"},{header:"Description",style:{width:"10rem"},showSort:!0,field:"desc"},{header:"Branch Opened On",style:{width:"15rem"},showSort:!0,field:"b_opn_dt"},{header:"District",style:{width:"10rem"},showSort:!0,field:"district"},{header:"State",style:{width:"10rem"},showSort:!0,field:"state"},{header:"Pincode",style:{width:"10rem"},showSort:!0,field:"pincode"},{header:"Contact",style:{width:"10rem"},showSort:!0,field:"contact_no"},{header:"Status",style:{width:"10rem"},showSort:!1,field:"active",color:[{width:"10rem",color:"#FF0000"},{width:"10rem",color:"#00FF00"}]}],this.companies=[],this.isClicked=!1,this.createMaster={bname:"",bcode:"",desc:"",cId:null,b_opn_dt:"",district:"",state:"",pincode:"",contact_no:"",active:!0},this.defaultMaster=JSON.stringify(this.createMaster),this._service=(0,e.f3M)(u.r),this.destroy$=new h.x,this.MessageService=(0,e.f3M)(l.ez),this.onlyGenderProps={cId:"",bname:"",bcode:"",desc:"",b_opn_dt:"",district:"",state:"",pincode:"",contact_no:"",active:!0},this.loading=!1}ngOnInit(){this._service.postApi("getCompany","postEndPoint",null).pipe((0,p.R)(this.destroy$)).subscribe({next:t=>{200==t.S_CODE&&t.DATA.forEach((o,n)=>{this.companies.push({label:o.cname,value:o._id})})},error:t=>{}})}isEnabled(t){this.isClicked=t}hideDialog(){this.MessageService.clear(),this.isClicked=!1,this.createMaster=JSON.parse(this.defaultMaster)}saveProduct(){this.loading=!0;try{let t=JSON.parse(JSON.stringify(this.createMaster));t.flag="S",this._service.postApi("createBranch","postEndPoint",t).pipe((0,p.R)(this.destroy$)).subscribe({next:n=>{200==n.S_CODE?(this.MessageService.add({severity:"success",summary:"Success",detail:`${n.S_MSG}`}),this.loading=!1,this.createMaster=JSON.parse(this.defaultMaster)):300==n.S_CODE&&(this.MessageService.add({severity:"error",summary:"Error",detail:`${n.S_MSG}`}),this.loading=!1)},error:n=>{this.loading=!1}})}catch{}this.loading=!1}static#e=this.\u0275fac=function(o){return new(o||s)};static#t=this.\u0275cmp=e.Xpm({type:s,selectors:[["app-branches"]],features:[e._Bn([l.ez])],decls:6,vars:13,consts:[[1,"grid"],[3,"headerName","masterApiKey","cols","onlyGenderProps","isEnabled"],["styleClass","p-fluid",3,"visible","modal","breakpoints","draggable","resizable","visibleChange"],["pTemplate","content"],["pTemplate","footer"],["position","center"],["align","center"],[1,"p-tag","p-1"],[1,"flex","flex-colum","align-items-center","justify-content-center"],[1,"m-3"],[1,"field"],["for","firstname2"],["styleClass","h-2.2rem w-full",3,"options","ngModel","ngModelChange"],["id","firstname2","type","text","maxlength","30",1,"text-base","text-color","surface-overlay","p-2","border-1","border-solid","surface-border","border-round","appearance-none","outline-none","focus:border-primary","w-full",3,"ngModel","ngModelChange"],["id","firstname2","type","text","maxlength","10",1,"text-base","text-color","surface-overlay","p-2","border-1","border-solid","surface-border","border-round","appearance-none","outline-none","focus:border-primary","w-full",3,"ngModel","ngModelChange"],["id","firstname2","type","text",1,"text-base","text-color","surface-overlay","p-2","border-1","border-solid","surface-border","border-round","appearance-none","outline-none","focus:border-primary","w-full",3,"ngModel","ngModelChange"],["id","firstname2","type","text","maxlength","6",1,"text-base","text-color","surface-overlay","p-2","border-1","border-solid","surface-border","border-round","appearance-none","outline-none","focus:border-primary","w-full",3,"ngModel","pKeyFilter","ngModelChange"],["id","firstname2","type","text","maxlength","10",1,"text-base","text-color","surface-overlay","p-2","border-1","border-solid","surface-border","border-round","appearance-none","outline-none","focus:border-primary","w-full",3,"ngModel","pKeyFilter","ngModelChange"],["rows","5","cols","30","pInputTextarea","",3,"ngModel","pKeyFilter","ngModelChange"],["type","checkbox","name","master","id","1",3,"ngModel","disabled","ngModelChange"],["for","lastname2",1,"ml-2"],[1,"flex","align-items-center","justify-content-center","m-2"],[1,"p-1"],["pButton","","pRipple","","label","Cancel",1,"p-button-info","p-1","m-2",3,"click"],["pButton","","pRipple","","label","Save",1,"p-button-primary","p-1","m-2",3,"click"]],template:function(o,n){1&o&&(e.TgZ(0,"div",0)(1,"crudgrid",1),e.NdJ("isEnabled",function(d){return n.isEnabled(d)}),e.qZA()(),e.TgZ(2,"p-dialog",2),e.NdJ("visibleChange",function(d){return n.isClicked=d}),e.YNc(3,y,45,15,"ng-template",3),e.YNc(4,Z,5,0,"ng-template",4),e.qZA(),e._UZ(5,"p-toast",5)),2&o&&(e.xp6(1),e.Q6J("headerName","Manage Branches")("masterApiKey","getBranch")("cols",n.caderCols)("onlyGenderProps",n.onlyGenderProps),e.xp6(1),e.Akn(e.DdM(11,T)),e.Q6J("visible",n.isClicked)("modal",!0)("breakpoints",e.DdM(12,w))("draggable",!1)("resizable",!1))},dependencies:[m.Hq,l.jx,f.w,M.i,_.g,C.Lt,b.FN,v.V,i.Fj,i.Wl,i.JJ,i.nD,i.On,x.Fr]})}return s})();var J=a(7454),A=a(4670);const S=[{path:"",component:B}];let N=(()=>{class s{static#e=this.\u0275fac=function(o){return new(o||s)};static#t=this.\u0275mod=e.oAB({type:s});static#n=this.\u0275inj=e.cJS({imports:[g.ez,J.m,i.u5,A.Bz.forChild(S)]})}return s})()}}]);