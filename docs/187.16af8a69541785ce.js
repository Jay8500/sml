"use strict";(self.webpackChunksakiademo=self.webpackChunksakiademo||[]).push([[187],{187:(Te,_,i)=>{i.r(_),i.d(_,{GenerateloansModule:()=>ve});var y=i(6814),b=i(2129),x=i(5861),e=i(4769),m=i(5219),N=i(8645),g=i(9773),G=i(4850),d=i(6990),c=i(6223),w=i(707),Z=i(3714),M=i(3965),v=i(9663),h=i(5167),T=i(6218),f=i(9552),C=i(9246),A=i(6782),q=i(4104);const J=["aa"],I=["ab"],L=["ac"],O=["ad"],k=["ae"],E=["af"],F=["ag"];function Q(a,l){1&a&&(e.TgZ(0,"tr")(1,"th",41)(2,"div",42),e._uU(3," Action "),e.qZA()(),e.TgZ(4,"th",43)(5,"div",42),e._uU(6," Approval Status "),e._UZ(7,"p-columnFilter",44),e.qZA()(),e.TgZ(8,"th",43)(9,"div",42),e._uU(10," Borrower Name "),e._UZ(11,"p-columnFilter",45),e.qZA()(),e.TgZ(12,"th",43)(13,"div",42),e._uU(14," Branch "),e._UZ(15,"p-columnFilter",46),e.qZA()(),e.TgZ(16,"th",43)(17,"div",42),e._uU(18," SML CODE "),e._UZ(19,"p-columnFilter",47),e.qZA()(),e.TgZ(20,"th",43)(21,"div",42),e._uU(22," House type "),e._UZ(23,"p-columnFilter",48),e.qZA()(),e.TgZ(24,"th",43)(25,"div",42),e._uU(26," Product type "),e._UZ(27,"p-columnFilter",49),e.qZA()(),e.TgZ(28,"th",43)(29,"div",42),e._uU(30," Deposit "),e._UZ(31,"p-columnFilter",50),e.qZA()(),e.TgZ(32,"th",43)(33,"div",42),e._uU(34," Loan amount "),e._UZ(35,"p-columnFilter",51),e.qZA()(),e.TgZ(36,"th",43)(37,"div",42),e._uU(38," Loan schedule "),e._UZ(39,"p-columnFilter",52),e.qZA()(),e.TgZ(40,"th",43)(41,"div",42),e._uU(42," Loan tenure "),e._UZ(43,"p-columnFilter",53),e.qZA()(),e.TgZ(44,"th",43)(45,"div",42),e._uU(46," Bank "),e._UZ(47,"p-columnFilter",54),e.qZA()(),e.TgZ(48,"th",43)(49,"div",42),e._uU(50," Account no "),e._UZ(51,"p-columnFilter",55),e.qZA()(),e.TgZ(52,"th",43)(53,"div",42),e._uU(54," Bank Account Name "),e._UZ(55,"p-columnFilter",56),e.qZA()(),e.TgZ(56,"th",43)(57,"div",42),e._uU(58," IFSC Code "),e._UZ(59,"p-columnFilter",57),e.qZA()(),e.TgZ(60,"th",43)(61,"div",42),e._uU(62," Surity Name "),e._UZ(63,"p-columnFilter",58),e.qZA()(),e.TgZ(64,"th",43)(65,"div",42),e._uU(66," Surity Aadhar "),e._UZ(67,"p-columnFilter",59),e.qZA()(),e.TgZ(68,"th",43)(69,"div",42),e._uU(70," House type "),e._UZ(71,"p-columnFilter",60),e.qZA()(),e.TgZ(72,"th",43)(73,"div",42),e._uU(74," Contact no "),e._UZ(75,"p-columnFilter",61),e.qZA()(),e.TgZ(76,"th",43)(77,"div",42),e._uU(78," Surity Aadhar "),e._UZ(79,"p-columnFilter",59),e.qZA()(),e.TgZ(80,"th",43)(81,"div",42),e._uU(82," Description "),e._UZ(83,"p-columnFilter",62),e.qZA()(),e.TgZ(84,"th",43)(85,"div",42),e._uU(86," Status "),e._UZ(87,"p-columnFilter",63),e.qZA()()())}function D(a,l){1&a&&(e.TgZ(0,"span"),e._uU(1,"Pending"),e.qZA()),2&a&&e.Tol("order-badge order-pending")}function R(a,l){1&a&&(e.TgZ(0,"span"),e._uU(1,"Approved"),e.qZA()),2&a&&e.Tol("order-badge order-delivered")}function j(a,l){1&a&&(e.TgZ(0,"span"),e._uU(1,"Reject"),e.qZA()),2&a&&e.Tol("order-badge order-cancelled")}function P(a,l){1&a&&(e.TgZ(0,"span"),e._uU(1,"Active"),e.qZA()),2&a&&e.Tol("customer-badge status-qualified")}function H(a,l){1&a&&(e.TgZ(0,"span"),e._uU(1,"Inactive"),e.qZA()),2&a&&e.Tol("customer-badge status-unqualified")}function B(a,l){if(1&a){const r=e.EpF();e.TgZ(0,"tr")(1,"td")(2,"div",64)(3,"div",65),e.NdJ("click",function(){const n=e.CHM(r).$implicit,s=e.oxw();return e.KtG(s.onClick(n,"VIEW"))}),e._UZ(4,"i",66),e.qZA(),e.TgZ(5,"div",65),e.NdJ("click",function(){const n=e.CHM(r).$implicit,s=e.oxw();return e.KtG(s.onClick(n,"EDIT"))}),e._UZ(6,"i",67),e.qZA()()(),e.TgZ(7,"td"),e.YNc(8,D,2,2,"span",68),e.YNc(9,R,2,2,"span",68),e.YNc(10,j,2,2,"span",68),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td"),e._uU(14),e.qZA(),e.TgZ(15,"td"),e._uU(16),e.qZA(),e.TgZ(17,"td"),e._uU(18),e.qZA(),e.TgZ(19,"td"),e._uU(20),e.qZA(),e.TgZ(21,"td"),e._uU(22),e.qZA(),e.TgZ(23,"td"),e._uU(24),e.qZA(),e.TgZ(25,"td"),e._uU(26),e.qZA(),e.TgZ(27,"td"),e._uU(28),e.qZA(),e.TgZ(29,"td"),e._uU(30),e.qZA(),e.TgZ(31,"td"),e._uU(32),e.qZA(),e.TgZ(33,"td"),e._uU(34),e.qZA(),e.TgZ(35,"td"),e._uU(36),e.qZA(),e.TgZ(37,"td"),e._uU(38),e.qZA(),e.TgZ(39,"td"),e._uU(40),e.qZA(),e.TgZ(41,"td"),e._uU(42),e.qZA(),e.TgZ(43,"td"),e._uU(44),e.qZA(),e.TgZ(45,"td"),e._uU(46),e.qZA(),e.TgZ(47,"td"),e._uU(48),e.qZA(),e.TgZ(49,"td"),e.YNc(50,P,2,2,"span",68),e.YNc(51,H,2,2,"span",68),e.qZA()()}if(2&a){const r=l.$implicit;e.xp6(8),e.Q6J("ngIf","P"==r.approvalstatus),e.xp6(1),e.Q6J("ngIf","A"==r.approvalstatus),e.xp6(1),e.Q6J("ngIf","R"==r.approvalstatus),e.xp6(2),e.hij(" ",r.borrower," "),e.xp6(2),e.hij(" ",r.branch," "),e.xp6(2),e.hij(" ",r.smtcode," "),e.xp6(2),e.hij(" ",r.housetypeName," "),e.xp6(2),e.hij(" ",r.prodtypeName," "),e.xp6(2),e.hij(" ",r.depositName," "),e.xp6(2),e.hij(" ",r.loanamount," "),e.xp6(2),e.hij(" ",r.loanscheduleName," "),e.xp6(2),e.hij(" ",r.tenureName," "),e.xp6(2),e.hij(" ",r.bankname," "),e.xp6(2),e.hij(" ",r.accountno," "),e.xp6(2),e.hij(" ",r.accountname," "),e.xp6(2),e.hij(" ",r.ifsc," "),e.xp6(2),e.hij(" ",r.surityname," "),e.xp6(2),e.hij(" ",r.surityaadhar," "),e.xp6(2),e.hij(" ",r.surityhousetypeName," "),e.xp6(2),e.hij(" ",r.contactnumber," "),e.xp6(2),e.hij(" ",r.surityaadhar," "),e.xp6(2),e.hij(" ",r.description," "),e.xp6(2),e.Q6J("ngIf",1==r.active),e.xp6(1),e.Q6J("ngIf",0==r.active)}}function V(a,l){1&a&&(e.TgZ(0,"tr")(1,"td",69),e._uU(2,"No Generated loans found."),e.qZA()())}function W(a,l){1&a&&(e.TgZ(0,"tr")(1,"td",69),e._uU(2,"Loading Generated loans data. Please wait."),e.qZA()())}function Y(a,l){if(1&a&&(e.TgZ(0,"small"),e._uU(1),e.qZA()),2&a){const r=e.oxw();e.xp6(1),e.hij(" ",r.errorMessages.borrowername," ")}}function $(a,l){if(1&a&&(e.TgZ(0,"small"),e._uU(1),e.qZA()),2&a){const r=e.oxw();e.xp6(1),e.Oqu(r.errorMessages.housetype)}}function z(a,l){if(1&a&&(e.TgZ(0,"small"),e._uU(1),e.qZA()),2&a){const r=e.oxw();e.xp6(1),e.Oqu(r.errorMessages.prodtype)}}function K(a,l){if(1&a&&(e.TgZ(0,"small"),e._uU(1),e.qZA()),2&a){const r=e.oxw();e.xp6(1),e.Oqu(r.errorMessages.deposit)}}function X(a,l){if(1&a&&(e.TgZ(0,"small"),e._uU(1),e.qZA()),2&a){const r=e.oxw();e.xp6(1),e.Oqu(r.errorMessages.loanamount)}}function ee(a,l){if(1&a&&(e.TgZ(0,"small"),e._uU(1),e.qZA()),2&a){const r=e.oxw();e.xp6(1),e.Oqu(r.errorMessages.loanschedule)}}function te(a,l){if(1&a&&(e.TgZ(0,"small"),e._uU(1),e.qZA()),2&a){const r=e.oxw();e.xp6(1),e.Oqu(r.errorMessages.tenure)}}function ne(a,l){if(1&a&&(e.TgZ(0,"small"),e._uU(1),e.qZA()),2&a){const r=e.oxw();e.xp6(1),e.Oqu(r.errorMessages.bankname)}}function ae(a,l){if(1&a&&(e.TgZ(0,"small"),e._uU(1),e.qZA()),2&a){const r=e.oxw();e.xp6(1),e.Oqu(r.errorMessages.accountno)}}function oe(a,l){if(1&a&&(e.TgZ(0,"small"),e._uU(1),e.qZA()),2&a){const r=e.oxw();e.xp6(1),e.Oqu(r.errorMessages.accountname)}}function re(a,l){if(1&a&&(e.TgZ(0,"small"),e._uU(1),e.qZA()),2&a){const r=e.oxw();e.xp6(1),e.Oqu(r.errorMessages.ifsc)}}function se(a,l){if(1&a&&(e.TgZ(0,"small"),e._uU(1),e.qZA()),2&a){const r=e.oxw();e.xp6(1),e.Oqu(r.errorMessages.surityname)}}function le(a,l){if(1&a&&(e.TgZ(0,"small"),e._uU(1),e.qZA()),2&a){const r=e.oxw();e.xp6(1),e.Oqu(r.errorMessages.surityaadhar)}}function ie(a,l){1&a&&(e.TgZ(0,"small"),e._uU(1,"House type is required."),e.qZA())}function de(a,l){if(1&a&&(e.TgZ(0,"small"),e._uU(1),e.qZA()),2&a){const r=e.oxw();e.xp6(1),e.Oqu(r.errorMessages.contactnumber)}}const ue=function(){return{width:"100%",right:"0",left:"0"}},pe=function(a){return{"920px":a}};let ce=(()=>{var a;class l{constructor(){this.isShowForm=!1,this.isShowSidebarClose=!1,this.isCloseOnEscape=!1,this.destroy$=new N.x,this.MessageService=(0,e.f3M)(m.ez),this._service=(0,e.f3M)(G.r),this.blocUI=!1,this.selectedState=null,this.states=[{name:"Arizona",code:"Arizona"},{name:"California",value:"California"},{name:"Florida",code:"Florida"},{name:"Ohio",code:"Ohio"},{name:"Washington",code:"Washington"}],this.dropdownItems=[{name:"Option 1",code:"Option 1"},{name:"Option 2",code:"Option 2"},{name:"Option 3",code:"Option 3"}],this.statuses=[{label:"Active",value:"qualified"},{label:"Inactive",value:"unqualified"},{label:"New",value:"new"},{label:"Negotiation",value:"negotiation"},{label:"Renewal",value:"renewal"},{label:"Proposal",value:"proposal"}],this.borrwoersList=[{label:"Select borrowers",value:null}],this.branches=[{label:"Select Branches",value:null,bcode:"",clientCount:0}],this.caders=[{label:"Select Caders",value:null}],this.cities1=[],this.cities2=[],this.city1=null,this.city2=null,this.mode="",this.addressList=[],this.loading=!1,this.crudGrid=[],this.params={},this.houseTypeList=[{label:"Own",value:1},{label:"Rent",value:2}],this.productTypeList=[{label:"Deposit",value:1},{label:"Mortgage Loan",value:2},{label:"Housing Loan",value:3},{label:"LAP",value:4},{label:"Gold Loan",value:5},{label:"Personal Loan",value:6},{label:"Third Party",value:7},{label:"MEL",value:8},{label:"Group Lending",value:9},{label:"Individual Lending",value:10}],this.loanShedule=[{label:"Weekly",value:1},{label:"Daily",value:1},{label:"Monthly",value:3}],this.despositList=[{label:"Daily",value:1},{label:"Weekly",value:2},{label:"Monthly",value:3},{label:"Recuring Deposit",value:4}],this.tenureList=[{label:"50",value:1},{label:"40",value:2},{label:"35",value:3},{label:"30",value:4},{label:"25",value:5},{label:"12",value:6}],this.createMaster={smtcode:"",branch:this._service.getUserInfo("branchid"),borrowername:"",housetype:"",prodtype:"",loanamount:0,loanschedule:"",tenure:"",bankname:"",accountno:"",accountname:"",ifsc:"",surityname:"",surityaadhar:"",surityhousetype:"",contactnumber:"",deposit:"",approvalstatus:"P",approvalremarks:"",approvalby:"P",active:!0},this.defaultUser=JSON.stringify(this.createMaster),this.errorMessages={borrowername:"",housetype:"",prodtype:"",loanamount:"",loanschedule:"",tenure:"",bankname:"",accountno:"",accountname:"",ifsc:"",surityname:"",surityaadhar:"",surityhousetype:"",contactnumber:"",deposit:"",active:!0},this.defErrs=JSON.stringify(this.errorMessages),this.borrowersList=[{name:"Select borrower",value:null}],this.fileSize=()=>this._service.fileMaxSize(),this.isOk=!1,this.submitloading=!1}getErrorMessages(o){switch(o){case"borrowername":this.errorMessages.borrowername=[void 0,null,""].includes(this.createMaster.borrowername)?"Name is required":"";break;case"housetype":this.errorMessages.housetype=[void 0,null,""].includes(this.createMaster.housetype)?"House type is required":"";break;case"prodtype":this.errorMessages.prodtype=[void 0,null,""].includes(this.createMaster.prodtype)?"Product type is required":"";break;case"loanamount":this.errorMessages.loanamount=[void 0,null,""].includes(this.createMaster.loanamount)?"Amount is required":"";break;case"loanschedule":this.errorMessages.loanschedule=[void 0,null,""].includes(this.createMaster.loanschedule)?"Loan schedule is required":"";break;case"tenure":this.errorMessages.tenure=[void 0,null,""].includes(this.createMaster.tenure)?"Tenure is required":"";break;case"bankname":this.errorMessages.bankname=[void 0,null,""].includes(this.createMaster.bankname)?"Bank name is required":"";break;case"accountno":this.errorMessages.accountno=[void 0,null,""].includes(this.createMaster.accountno)?"Account no. is required":"";break;case"accountname":this.errorMessages.accountname=[void 0,null,""].includes(this.createMaster.accountname)?"Account name is required":"";break;case"ifsc":this.errorMessages.ifsc=[void 0,null,""].includes(this.createMaster.ifsc)?"IFSC is required":"";break;case"surityname":this.errorMessages.surityname=[void 0,null,""].includes(this.createMaster.surityname)?"Surity name is required":"";break;case"surityaadhar":this.errorMessages.surityaadhar=[void 0,null,""].includes(this.createMaster.surityaadhar)?"Surity aadhar is required":"";break;case"surityhousetype":this.errorMessages.surityhousetype=[void 0,null,""].includes(this.createMaster.surityhousetype)?"Surity House Type is required":"";break;case"contactnumber":this.errorMessages.contactnumber=[void 0,null,""].includes(this.createMaster.contactnumber)?"Suiry Contact no. is required":"";break;case"deposit":1==this.createMaster.prodtype&&(this.errorMessages.deposit=[void 0,null,""].includes(this.createMaster.deposit)?"Deposit is required":"")}}onProducttype(){1!=this.createMaster.prodtype&&(this.createMaster.deposit="")}ngOnInit(){var o=this;return(0,x.Z)(function*(){let t=o._service.getUserInfo("userCader");"DA"==t.code&&(o.params.code="DEV"),"SA"==t.code&&(o.params.code="SA"),"HRPM"==t.code&&(o.params.code="HRPM"),o.params.create_by=o._service.getUserInfo("_id"),o._service.postApi("getBranch","postEndPoint",{filter:"Drop",create_by:o._service.getUserInfo("_id")}).pipe((0,g.R)(o.destroy$)).subscribe({next:n=>{200==(n=o._service.enableCryptoForResponse()?o._service.decrypt(n):n).S_CODE&&(o.branches=[{label:"Select Branches",value:null,bcode:"",clientCount:0}],n.DATA.forEach((s,u)=>{o.branches.push({label:s.bname,value:s.id,bcode:s.bcode,clientCount:s.clientCount})}),o.generateCode(o.createMaster))},error:n=>{}}),o._service.postApi("getOnlyCreatedBorrowers","postEndPoint",{create_by:o._service.getUserInfo("_id")}).pipe((0,g.R)(o.destroy$)).subscribe({next:n=>{200==(n=o._service.enableCryptoForResponse()?o._service.decrypt(n):n).S_CODE&&(o.borrwoersList=[{label:"Select Branches",value:null}],n.DATA.length>0&&(o.borrwoersList=n.DATA))},error:n=>{}}),o.addressList=[],o._service.postApi("getAddressList","postEndPoint",{}).pipe((0,g.R)(o.destroy$)).subscribe({next:n=>{200==(n=o._service.enableCryptoForResponse()?o._service.decrypt(n):n).S_CODE&&(o.addressList=n.DATA[0].data)},error:n=>{}}),o.gridData()})()}gridData(){try{this.loading=!0;let o=this._service.getUserInfo("userCader");"DA"==o.code&&(this.params.code="DEV"),"SA"==o.code&&(this.params.code="SA"),"HRPM"==o.code&&(this.params.code="HRPM"),this.params.create_by=this._service.getUserInfo("_id"),this.crudGrid=[],this._service.postApi("gnloanslist","postEndPoint",this.params).pipe((0,g.R)(this.destroy$)).subscribe({next:t=>{200==(t=this._service.enableCryptoForResponse()?this._service.decrypt(t):t).S_CODE?(this.blocUI=!1,t.DATA.forEach((n,s)=>{let u={accountname:n.accountname,accountno:n.accountno,approvalby:n.approvalby,approvalremarks:n.approvalremarks,approvalstatus:n.approvalstatus,bankname:n.bankname,borrower:n.borrower,borrowername:n.borrowername,branch:n.branch,branchName:n.branchname,contactnumber:n.contactnumber,create_by:n.create_by,create_dt:n.create_dt,deposit:n.deposit,depositName:[void 0,null,""].includes(n.deposit)?"Not Selected":d.filter(this.despositList,{value:parseInt(n.deposit)})[0].label,description:n.description,housetype:n.housetype,housetypeName:[void 0,null,""].includes(n.housetype)?"":d.filter(this.houseTypeList,{value:parseInt(n.housetype)})[0].label,ifsc:n.ifsc,loanamount:n.loanamount,loanschedule:n.loanschedule,loanscheduleName:[void 0,null,""].includes(n.loanschedule)?"":d.filter(this.tenureList,{value:parseInt(n.loanschedule)})[0].label,modify_by:n.modify_by,modify_dt:n.modify_dt,prodtype:n.prodtype,prodtypeName:[void 0,null,""].includes(n.prodtype)?"":d.filter(this.productTypeList,{value:parseInt(n.prodtype)})[0].label,smtcode:n.smtcode,surityaadhar:n.surityaadhar,surityhousetype:n.surityhousetype,surityhousetypeName:[void 0,null,""].includes(n.prodtype)?"":d.filter(this.houseTypeList,{value:parseInt(n.surityhousetype)})[0].label,surityname:n.surityname,tenure:n.tenure,tenureName:[void 0,null,""].includes(n.prodtype)?"":d.filter(this.tenureList,{value:parseInt(n.tenure)})[0].label,_id:n._id,id:s+1,active:n.active,status:1==n.active?"Active":"Inactive"};this.crudGrid.push(u)}),this.loading=!1):300==t.S_CODE&&(this.blocUI=!1,this.loading=!1)},error:t=>{this.blocUI=!1}})}catch{this.blocUI=!1}}onSelect(o,t){try{if(![void 0,null,""].includes(o)&&Object.keys(o.files).length>0){const n=o.files[0];n&&this.uploadFile(n,t)}}catch{}}uploadFile(o,t){let n=new FileReader;n.onload=s=>{this.createMaster[t]=s.target.result},n.readAsDataURL(o),this.aa.clear(),this.ab.clear(),this.ac.clear(),this.ad.clear(),this.ae.clear(),this.af.clear(),this.ag.clear()}onClick(o,t){this.isShowForm=!0,this.submitloading=!1,this.isShowSidebarClose=!0,this.mode=t,this.errorMessages=JSON.parse(this.defErrs),this.createMaster=JSON.parse(this.defaultUser),["NEW"].includes(t)&&this.generateCode(this.createMaster),["VIEW","EDIT"].includes(t)&&(this.createMaster={smtcode:o.smtcode,borrowername:o.borrowername,housetype:o.housetype,prodtype:o.prodtype,loanamount:o.loanamount,loanschedule:o.loanschedule,tenure:o.tenure,bankname:o.bankname,accountno:o.accountno,accountname:o.accountname,ifsc:o.ifsc,surityname:o.surityname,surityaadhar:o.surityaadhar,surityhousetype:o.surityhousetype,contactnumber:o.contactnumber,deposit:o.deposit,approvalstatus:o.approvalstatus,approvalremarks:o.approvalremarks,approvalby:o.approvalby,active:!!o.active})}saveProduct(){try{d.forEach(["borrowername","housetype","prodtype","loanamount","loanschedule","tenure","bankname","accountno","contactnumber","accountname","ifsc","surityname","surityaadhar","surityhousetype","contactnumber","deposit"],(s,u)=>{this.getErrorMessages(s)});let t=0;if(Object.values(this.errorMessages).every((s,u)=>{""==s&&t++}),t>0){this.submitloading=!0;let s=JSON.parse(JSON.stringify(this.createMaster));s.flag="NEW"==this.mode||""==this.mode?"S":"E",s.create_by=this._service.getUserInfo("_id");let u=d.filter(this.borrwoersList,{_id:this.createMaster.borrowername});s.borrower=u[0].name,this._service.postApi("generateloans","postEndPoint",s).pipe((0,g.R)(this.destroy$)).subscribe({next:p=>{200==(p=this._service.enableCryptoForResponse()?this._service.decrypt(p):p).S_CODE?(this.isShowSidebarClose=!1,this.MessageService.add({severity:"success",summary:"Success",detail:`${p.S_MSG}`}),this.isOk=!0,this.createMaster=JSON.parse(this.defaultUser),this.submitloading=!1):[400,300].includes(p.S_CODE)&&(this.MessageService.add({severity:"error",summary:"Error",detail:`${p.S_MSG}`}),this.submitloading=!1,this.isShowSidebarClose=!1,this.submitloading=!1)},error:p=>{this.submitloading=!1}})}}catch{}}hideDialog(){this.isShowForm=!1,this.createMaster=JSON.parse(this.defaultUser),this.errorMessages=JSON.parse(this.defErrs)}onMessageClose(){try{this.isOk&&(this.isShowSidebarClose=!0,this.gridData(),this.hideDialog())}catch{}}generateCode(o){try{if(![void 0,null,""].includes(o.branch)){let t=d.filter(this.branches,{value:o.branch});t.length>0&&(o.smtcode=t[0].bcode+(t[0].clientCount+1).toString().padStart(this._service.getCodeLength(),"0"))}}catch{}}}return(a=l).\u0275fac=function(o){return new(o||a)},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-generateloans"]],viewQuery:function(o,t){if(1&o&&(e.Gf(J,5),e.Gf(I,5),e.Gf(L,5),e.Gf(O,5),e.Gf(k,5),e.Gf(E,5),e.Gf(F,5)),2&o){let n;e.iGM(n=e.CRH())&&(t.aa=n.first),e.iGM(n=e.CRH())&&(t.ab=n.first),e.iGM(n=e.CRH())&&(t.ac=n.first),e.iGM(n=e.CRH())&&(t.ad=n.first),e.iGM(n=e.CRH())&&(t.ae=n.first),e.iGM(n=e.CRH())&&(t.af=n.first),e.iGM(n=e.CRH())&&(t.ag=n.first)}},features:[e._Bn([m.ez,m.YP])],decls:120,vars:89,consts:[[1,"grid"],[1,"col-12"],[1,"card"],[1,"flex","justify-content-between","flex-wrap"],[1,"flex","align-items-center","justify-content-center","w-10rem","h-2rem","font-bold","border-round","m-2"],[1,"flex","align-items-center","justify-content-center","w-0rem","h-0","font-bold","border-round","m-1"],["pButton","","pRipple","","label","Add new",1,"p-button-success",3,"loading","click"],["dataKey","id","styleClass","p-datatable-gridlines","responsiveLayout","scroll",3,"value","rows","loading","rowHover","showCurrentPageReport","paginator"],["dt1",""],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["pTemplate","loadingbody"],[3,"visible","fullScreen","showCloseIcon","closeOnEscape","visibleChange"],[1,"col-12","col-offset-0","md:col-6","md:col-offset-3","lg:col-4","lg:col-offset-4","xl:col-4","xl:col-offset-4"],[1,"card","p-fluid"],["htmlFor","state"],["placeholder","Select Borrower","optionLabel","name","optionValue","_id",1,"ng-invalid","ng-dirty",3,"options","ngModel","filter","disabled","ngModelChange"],[4,"ngIf"],["placeholder","Select Branches","optionLabel","label","optionValue","value",3,"options","ngModel","disabled","filter","ngModelChange"],["pInputText","","id","age1","type","text",3,"disabled","ngModel","ngModelChange"],["optionLabel","label","optionValue","value","placeholder","Select House Type",1,"ng-invalid","ng-dirty",3,"options","ngModel","filter","disabled","ngModelChange"],["optionLabel","label","optionValue","value","placeholder","Select Product type",1,"ng-invalid","ng-dirty",3,"options","ngModel","filter","disabled","ngModelChange","onChange"],["optionLabel","label","optionValue","value","placeholder","Select Deposit",1,"ng-invalid","ng-dirty",3,"options","ngModel","filter","disabled","ngModelChange"],["mode","decimal","inputId","withoutgrouping",1,"ng-invalid","ng-dirty",3,"ngModel","disabled","maxlength","useGrouping","ngModelChange"],["optionLabel","label","optionValue","value","placeholder","Select Loan Schedule",1,"ng-invalid","ng-dirty",3,"options","ngModel","filter","disabled","ngModelChange"],["optionLabel","label","optionValue","value","placeholder","Select Loan Tenture",1,"ng-invalid","ng-dirty",3,"options","ngModel","filter","disabled","ngModelChange"],["htmlFor","age1"],["pInputText","","id","age1","type","text",1,"ng-invalid","ng-dirty",3,"ngModel","ngModelChange"],["pInputText","","id","age1","type","text",1,"ng-invalid","ng-dirty",3,"ngModel","maxLength","ngModelChange"],["htmlFor","name1"],["pInputText","","id","name1","type","text",1,"ng-invalid","ng-dirty",3,"ngModel","ngModelChange"],["mask","9999-9999-9999","placeholder","2222-2222-2222",1,"ng-invalid","ng-dirty",3,"ngModel","disabled","pKeyFilter","ngModelChange"],["mode","decimal","inputId","withoutgrouping",1,"ng-invalid","ng-dirty",3,"ngModel","useGrouping","disabled","minlength","maxlength","ngModelChange"],["rows","5","cols","30","pInputTextarea","",3,"ngModel","ngModelChange"],["type","checkbox","name","master","id","1",3,"ngModel","disabled","ngModelChange"],["for","lastname2",1,"ml-2"],[1,"col-6"],["pButton","","pRipple","","label","Clear",1,"p-button-outlined",3,"disabled","click"],["pButton","","pRipple","","label","Submit",1,"p-button-success",3,"disabled","loading","click"],["position","top-right",3,"breakpoints","onClose"],[2,"min-width","5rem"],[1,"flex","justify-content-between","align-items-center"],[2,"min-width","12rem"],["type","text","field","approvalstatus","display","menu","placeholder","Search by Approval Status"],["type","text","field","borrower","display","menu","placeholder","Search by name"],["type","text","field","branchName","display","menu","placeholder","Search by Branches"],["type","text","field","smtcode","display","menu","placeholder","Search by SML CODE"],["type","text","field","housetypeName","display","menu","placeholder","Search by House type"],["type","text","field","prodtypeName","display","menu","placeholder","Search by Product type"],["type","text","field","depositName","display","menu","placeholder","Search by Deposit List"],["type","text","field","loanamount","display","menu","placeholder","Search by Loan amount"],["type","text","field","country.name","display","menu","placeholder","Search by Loan loanscheduleName"],["type","text","field","tenureName","display","menu","placeholder","Search by Loan tenure "],["type","text","field","bankname","display","menu","placeholder","Search by Bank"],["type","text","field","accountno","display","menu","placeholder","Search by Account no"],["type","text","field","accountname","display","menu","placeholder","Search by Bank Account Name"],["type","text","field","ifsc","display","menu","placeholder","Search by IFSC Code"],["type","text","field","surityname","display","menu","placeholder","Search by Surity Name"],["type","text","field","surityaadhar","display","menu","placeholder","Search by Suriy Aadhar"],["type","text","field","surityhousetypeName","display","menu","placeholder","Search by House type"],["type","text","field","active","display","menu","placeholder","Search by Contact no"],["type","text","field","description","display","menu","placeholder","Search by Suriy Description"],["type","text","field","status","display","menu","placeholder","Search by Suriy Status"],[1,"flex","justify-content-center","flex-wrap"],[1,"flex","align-items-center","ml-1",3,"click"],[1,"pi","pi-eye"],[1,"pi","pi-file-edit"],[3,"class",4,"ngIf"],["colspan","21"]],template:function(o,t){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),e._uU(5," Generated Loans "),e.qZA(),e._UZ(6,"div",5),e.TgZ(7,"div",4)(8,"button",6),e.NdJ("click",function(){return t.onClick(null,"NEW")}),e.qZA()()(),e.TgZ(9,"p-table",7,8),e.YNc(11,Q,88,0,"ng-template",9),e.YNc(12,B,52,24,"ng-template",10),e.YNc(13,V,3,0,"ng-template",11),e.YNc(14,W,3,0,"ng-template",12),e.qZA()()()(),e.TgZ(15,"p-sidebar",13),e.NdJ("visibleChange",function(s){return t.isShowForm=s}),e.TgZ(16,"div",0)(17,"div",14)(18,"div",15)(19,"div",0)(20,"h5"),e._uU(21,"Generate Loan "),e.qZA(),e.TgZ(22,"div",1)(23,"label",16),e._uU(24,"Borrower"),e.qZA(),e.TgZ(25,"p-dropdown",17),e.NdJ("ngModelChange",function(s){return t.createMaster.borrowername=s}),e.qZA(),e.YNc(26,Y,2,1,"small",18),e.qZA(),e.TgZ(27,"div",1)(28,"label",16),e._uU(29,"Branches"),e.qZA(),e.TgZ(30,"p-dropdown",19),e.NdJ("ngModelChange",function(s){return t.createMaster.branch=s}),e.qZA()(),e.TgZ(31,"div",1)(32,"label",16),e._uU(33,"SML CODE "),e.qZA(),e.TgZ(34,"input",20),e.NdJ("ngModelChange",function(s){return t.createMaster.smtcode=s}),e.qZA()(),e.TgZ(35,"div",1)(36,"label",16),e._uU(37,"House type"),e.qZA(),e.TgZ(38,"p-dropdown",21),e.NdJ("ngModelChange",function(s){return t.createMaster.housetype=s}),e.qZA(),e.YNc(39,$,2,1,"small",18),e.qZA(),e.TgZ(40,"div",1)(41,"label",16),e._uU(42,"Product type"),e.qZA(),e.TgZ(43,"p-dropdown",22),e.NdJ("ngModelChange",function(s){return t.createMaster.prodtype=s})("onChange",function(){return t.onProducttype()}),e.qZA(),e.YNc(44,z,2,1,"small",18),e.qZA(),e.TgZ(45,"div",1)(46,"label",16),e._uU(47,"Deposit List"),e.qZA(),e.TgZ(48,"p-dropdown",23),e.NdJ("ngModelChange",function(s){return t.createMaster.deposit=s}),e.qZA(),e.YNc(49,K,2,1,"small",18),e.qZA(),e.TgZ(50,"div",1)(51,"label",16),e._uU(52,"Loan amount "),e.qZA(),e.TgZ(53,"p-inputNumber",24),e.NdJ("ngModelChange",function(s){return t.createMaster.loanamount=s}),e.qZA(),e.YNc(54,X,2,1,"small",18),e.qZA(),e.TgZ(55,"div",1)(56,"label",16),e._uU(57,"Loan schedule "),e.qZA(),e.TgZ(58,"p-dropdown",25),e.NdJ("ngModelChange",function(s){return t.createMaster.loanschedule=s}),e.qZA(),e.YNc(59,ee,2,1,"small",18),e.qZA(),e.TgZ(60,"div",1)(61,"label",16),e._uU(62,"Loan tenure "),e.qZA(),e.TgZ(63,"p-dropdown",26),e.NdJ("ngModelChange",function(s){return t.createMaster.tenure=s}),e.qZA(),e.YNc(64,te,2,1,"small",18),e.qZA(),e.TgZ(65,"div",1)(66,"label",27),e._uU(67,"Bank"),e.qZA(),e.TgZ(68,"input",28),e.NdJ("ngModelChange",function(s){return t.createMaster.bankname=s}),e.qZA(),e.YNc(69,ne,2,1,"small",18),e.qZA(),e.TgZ(70,"div",1)(71,"label",27),e._uU(72,"Account no"),e.qZA(),e.TgZ(73,"input",29),e.NdJ("ngModelChange",function(s){return t.createMaster.accountno=s}),e.qZA(),e.YNc(74,ae,2,1,"small",18),e.qZA(),e.TgZ(75,"div",1)(76,"label",27),e._uU(77,"Bank Account Name"),e.qZA(),e.TgZ(78,"input",28),e.NdJ("ngModelChange",function(s){return t.createMaster.accountname=s}),e.qZA(),e.YNc(79,oe,2,1,"small",18),e.qZA(),e.TgZ(80,"div",1)(81,"label",27),e._uU(82,"IFSC Code"),e.qZA(),e.TgZ(83,"input",28),e.NdJ("ngModelChange",function(s){return t.createMaster.ifsc=s}),e.qZA(),e.YNc(84,re,2,1,"small",18),e.qZA(),e.TgZ(85,"div",1)(86,"label",30),e._uU(87,"Surity Name"),e.qZA(),e.TgZ(88,"input",31),e.NdJ("ngModelChange",function(s){return t.createMaster.surityname=s}),e.qZA(),e.YNc(89,se,2,1,"small",18),e.qZA(),e.TgZ(90,"div",1)(91,"label",30),e._uU(92,"Suriy Aadhar"),e.qZA(),e.TgZ(93,"p-inputMask",32),e.NdJ("ngModelChange",function(s){return t.createMaster.surityaadhar=s}),e.qZA(),e.YNc(94,le,2,1,"small",18),e.qZA(),e.TgZ(95,"div",1)(96,"label",30),e._uU(97,"House type"),e.qZA(),e.TgZ(98,"p-dropdown",21),e.NdJ("ngModelChange",function(s){return t.createMaster.surityhousetype=s}),e.qZA(),e.YNc(99,ie,2,0,"small",18),e.qZA(),e.TgZ(100,"div",1)(101,"label",30),e._uU(102,"Contact no"),e.qZA(),e.TgZ(103,"p-inputNumber",33),e.NdJ("ngModelChange",function(s){return t.createMaster.contactnumber=s}),e.qZA(),e.YNc(104,de,2,1,"small",18),e.qZA(),e.TgZ(105,"div",1)(106,"label",30),e._uU(107,"Description"),e.qZA(),e.TgZ(108,"textarea",34),e.NdJ("ngModelChange",function(s){return t.createMaster.description=s}),e.qZA()(),e.TgZ(109,"div",1)(110,"input",35),e.NdJ("ngModelChange",function(s){return t.createMaster.active=s}),e.qZA(),e.TgZ(111,"label",36),e._uU(112,"Active"),e.qZA()(),e.TgZ(113,"div",1)(114,"div",0)(115,"div",37)(116,"button",38),e.NdJ("click",function(){return t.hideDialog()}),e.qZA()(),e.TgZ(117,"div",37)(118,"button",39),e.NdJ("click",function(){return t.saveProduct()}),e.qZA()()()()()()()()(),e.TgZ(119,"p-toast",40),e.NdJ("onClose",function(){return t.onMessageClose()}),e.qZA()),2&o&&(e.xp6(8),e.Q6J("loading",!1),e.xp6(1),e.Q6J("value",t.crudGrid)("rows",5)("loading",!1)("rowHover",!0)("showCurrentPageReport",!0)("paginator",!0),e.xp6(6),e.Q6J("visible",t.isShowForm)("fullScreen",!0)("showCloseIcon",t.isShowSidebarClose)("closeOnEscape",t.isCloseOnEscape),e.xp6(10),e.Q6J("options",t.borrwoersList)("ngModel",t.createMaster.borrowername)("filter",!0)("disabled","VIEW"==t.mode),e.xp6(1),e.Q6J("ngIf",""!=t.createMaster.borrowername),e.xp6(4),e.Q6J("options",t.branches)("ngModel",t.createMaster.branch)("disabled",!0)("filter",!0),e.xp6(4),e.Q6J("disabled",!0)("ngModel",t.createMaster.smtcode),e.xp6(4),e.Q6J("options",t.houseTypeList)("ngModel",t.createMaster.housetype)("filter",!0)("disabled","VIEW"==t.mode),e.xp6(1),e.Q6J("ngIf",""!=t.errorMessages.housetype),e.xp6(4),e.Q6J("options",t.productTypeList)("ngModel",t.createMaster.prodtype)("filter",!0)("disabled","VIEW"==t.mode),e.xp6(1),e.Q6J("ngIf",""!=t.errorMessages.prodtype),e.xp6(4),e.Q6J("options",t.despositList)("ngModel",t.createMaster.deposit)("filter",!0)("disabled","VIEW"==t.mode||1!=t.createMaster.prodtype),e.xp6(1),e.Q6J("ngIf",""!=t.errorMessages.deposit),e.xp6(4),e.Q6J("ngModel",t.createMaster.loanamount)("disabled","VIEW"==t.mode)("maxlength",20)("useGrouping",!1),e.xp6(1),e.Q6J("ngIf",""!=t.errorMessages.loanamount),e.xp6(4),e.Q6J("options",t.loanShedule)("ngModel",t.createMaster.loanschedule)("filter",!0)("disabled","VIEW"==t.mode),e.xp6(1),e.Q6J("ngIf",""!=t.errorMessages.loanschedule),e.xp6(4),e.Q6J("options",t.tenureList)("ngModel",t.createMaster.tenure)("filter",!0)("disabled","VIEW"==t.mode),e.xp6(1),e.Q6J("ngIf",""!=t.errorMessages.tenure),e.xp6(4),e.Q6J("ngModel",t.createMaster.bankname),e.xp6(1),e.Q6J("ngIf",""!=t.errorMessages.bankname),e.xp6(4),e.Q6J("ngModel",t.createMaster.accountno)("maxLength",18),e.xp6(1),e.Q6J("ngIf",""!=t.errorMessages.accountno),e.xp6(4),e.Q6J("ngModel",t.createMaster.accountname),e.xp6(1),e.Q6J("ngIf",""!=t.errorMessages.accountname),e.xp6(4),e.Q6J("ngModel",t.createMaster.ifsc),e.xp6(1),e.Q6J("ngIf",""!=t.errorMessages.ifsc),e.xp6(4),e.Q6J("ngModel",t.createMaster.surityname),e.xp6(1),e.Q6J("ngIf",""!=t.errorMessages.surityname),e.xp6(4),e.Q6J("ngModel",t.createMaster.surityaadhar)("disabled","VIEW"==t.mode)("pKeyFilter","num"),e.xp6(1),e.Q6J("ngIf",""!=t.errorMessages.surityaadhar),e.xp6(4),e.Q6J("options",t.houseTypeList)("ngModel",t.createMaster.surityhousetype)("filter",!0)("disabled","VIEW"==t.mode),e.xp6(1),e.Q6J("ngIf",""!=t.errorMessages.surityhousetype),e.xp6(4),e.Q6J("ngModel",t.createMaster.contactnumber)("useGrouping",!1)("disabled","VIEW"==t.mode)("minlength",10)("maxlength",10)("useGrouping",!1),e.xp6(1),e.Q6J("ngIf",""!=t.errorMessages.contactnumber),e.xp6(4),e.Q6J("ngModel",t.createMaster.description),e.xp6(2),e.Q6J("ngModel",t.createMaster.active)("disabled","VIEW"==t.mode||"NEW"==t.mode),e.xp6(6),e.Q6J("disabled","VIEW"==t.mode),e.xp6(2),e.Q6J("disabled","VIEW"==t.mode)("loading",t.submitloading),e.xp6(1),e.Q6J("breakpoints",e.VKq(87,pe,e.DdM(86,ue))))},dependencies:[y.O5,c.Fj,c.Wl,c.JJ,c.wO,c.nD,c.On,m.jx,w.Hq,Z.o,M.Lt,v.vy,h.Rn,T.g,f.iA,f.xl,C.Y,A.Fr,q.FN],styles:["[_nghost-%COMP%]     .p-cascadeselect-items {\n\t\tmax-height: 100px;\n\t\toverflow: auto;\n\t}"]}),l})(),ge=(()=>{var a;class l{}return(a=l).\u0275fac=function(o){return new(o||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[b.Bz.forChild([{path:"",component:ce}]),b.Bz]}),l})();var me=i(7327),he=i(6760),fe=i(1480),U=i(8062),_e=i(4055),ye=i(7902),be=i(6651),Ze=i(2892),Me=i(3722);let ve=(()=>{var a;class l{}return(a=l).\u0275fac=function(o){return new(o||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[y.ez,c.u5,ge,me.WN,he._8,fe.Gg,M.kW,v.zz,h.L$,U.XH,_e.q4,T.A,Z.j,f.U$,ye.JH,be.q,C.l,A.kK,U.XH,Me.O,Ze.$,h.L$,q.EV]}),l})()}}]);