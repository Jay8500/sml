<div class="grid">
    <div class="col-12">
        <div class="card">
            <div class="flex justify-content-between flex-wrap">
                <div class="flex align-items-center justify-content-center w-10rem h-2rem font-bold border-round m-2">
                    Company List
                </div>
                <div class="flex align-items-center justify-content-center w-0rem h-0 font-bold border-round m-1">
                    <!-- 2 -->
                </div>
                <div class="flex align-items-center justify-content-center w-10rem h-2rem font-bold border-round m-2">
                    <button pButton pRipple label="Add new" [loading]=false class="p-button-success"
                        (click)="onClick(null,'NEW')"></button>
                </div>
            </div>


            <p-table #dt1 [value]="crudGrid" dataKey="id" [rows]="10" [loading]="loading" [rowHover]="true"
                styleClass="p-datatable-gridlines" [paginator]="true" responsiveLayout="scroll">
                <!-- <ng-template pTemplate="caption">
					<div class="flex justify-content-between flex-column sm:flex-row">
						<button pButton label="Clear" class="p-button-outlined mb-2" icon="pi pi-filter-slash" (click)="clear(dt1)"></button>
						<span class="p-input-icon-left mb-2">
							<i class="pi pi-search"></i>
							<input pInputText type="text" #filter (input)="onGlobalFilter(dt1, $event)" placeholder="Search Keyword" class="w-full"/>
						</span>
					</div>
				</ng-template> -->
                <ng-template pTemplate="header">
                    <tr>
                        <th style="min-width: 5rem">
                            <div class="flex justify-content-between align-items-center">
                                Action
                                <!-- <p-columnFilter type="text" field="name" display="menu"
                                    placeholder="Search by name"></p-columnFilter> -->
                            </div>
                        </th>
                        <th style="min-width: 12rem">
                            <div class="flex justify-content-between align-items-center">
                                Name
                                <p-columnFilter type="text" field="cname" display="menu"
                                    placeholder="Search by name"></p-columnFilter>
                            </div>
                        </th>
                        <th style="min-width: 6rem">
                            <div class="flex justify-content-between align-items-center">
                                Image
                                <!-- <p-columnFilter type="text" field="name" display="menu"
                                    placeholder="Search by name"></p-columnFilter> -->
                            </div>
                        </th>
                        <th style="min-width: 6rem">
                            <div class="flex justify-content-between align-items-center">
                                Country
                                <p-columnFilter type="text" field="countryname" display="menu"
                                    placeholder="Search by country"></p-columnFilter>
                            </div>
                        </th>
                        <th style="min-width: 12rem">
                            <div class="flex justify-content-between align-items-center">
                                State
                                <p-columnFilter type="text" field="state" display="menu"
                                    placeholder="Search by state"></p-columnFilter>
                            </div>
                        </th>
                        <th style="min-width: 12rem">
                            <div class="flex justify-content-between align-items-center">
                                City
                                <p-columnFilter type="text" field="cityname" display="menu"
                                    placeholder="Search by city"></p-columnFilter>
                            </div>
                        </th>
                        <!-- <th style="min-width: 12rem">
                            <div class="flex justify-content-between align-items-center">
                                Branch
                                <p-columnFilter type="text" field="country.name" display="menu"
                                    placeholder="Search by country"></p-columnFilter>
                            </div>
                        </th> -->
                        <th style="min-width: 12rem">
                            <div class="flex justify-content-between align-items-center">
                                Address
                                <!-- <p-columnFilter type="text" field="countryname" display="menu"
                                    placeholder="Search by country"></p-columnFilter> -->
                            </div>
                        </th>
                        <th style="min-width: 12rem">
                            <div class="flex justify-content-between align-items-center">
                                Description

                            </div>
                        </th>
                        <th style="min-width: 12rem">
                            <div class="flex justify-content-between align-items-center">
                                Status
                                <p-columnFilter type="text" field="active" display="menu"
                                    placeholder="Search by Status"></p-columnFilter>
                            </div>
                        </th>
                    </tr>
                </ng-template>
                <ng-template pTemplate="body" let-customer>
                    <tr>
                        <td>
                            <div class="flex justify-content-center flex-wrap">
                                <div class="flex align-items-center  ml-1" (click)="onClick(customer, 'VIEW')">
                                    <i class="pi pi-eye"></i>
                                </div>
                                <div class="flex align-items-center  ml-1" (click)="onClick(customer, 'EDIT')">
                                    <i class="pi pi-file-edit"></i>
                                </div>

                            </div>
                        </td>
                        <td>
                            {{customer.cname}}
                        </td>
                        <td>
                            <p-avatar [image]="customer['cLogo']" styleClass="" size="large" shape="circle"></p-avatar>
                            <!-- <img [src]="customer['A']" width="32" style="vertical-align: middle" /> -->
                            <!-- <span class="image-text ml-2">{{customer.representative.name}}</span> -->
                        </td>

                        <td>
                            {{customer.countryname}}
                        </td>
                        <td>
                            {{customer.state}}
                        </td>
                        <td>
                            {{customer.cityname}}
                        </td>
                        <td>
                            {{customer.cadress}}
                        </td>
                        <td>
                            {{customer.decs}}
                        </td>
                        <td>

                            <span *ngIf="customer.active == true"
                                [class]="'customer-badge status-qualified'">Active</span>
                            <span *ngIf="customer.active == false"
                                [class]="'customer-badge status-unqualified'">Inactive</span>

                        </td>

                    </tr>
                </ng-template>
                <ng-template pTemplate="emptymessage">
                    <tr>
                        <td colspan="9">No Company found.</td>
                    </tr>
                </ng-template>
                <ng-template pTemplate="loadingbody">
                    <tr>
                        <td colspan="9">Loading Company data. Please wait.</td>
                    </tr>
                </ng-template>
            </p-table>
        </div>

    </div>
</div>


<p-sidebar [(visible)]="isShowForm" [fullScreen]="true" [showCloseIcon]="isShowSidebarClose"
    [closeOnEscape]="isCloseOnEscape">
    <div class="grid">
        <div class="col-12 col-offset-0  md:col-6 md:col-offset-3 lg:col-4  lg:col-offset-4 xl:col-4 xl:col-offset-4">
            <div class="card  p-fluid">
                <div class="grid">
                    <h5>Create Company </h5>

                    <!-- <div class="col-12">
                   <label htmlFor="name1">Country/ State/ City</label>
                   <div class="w-5">
                       
                       <p-cascadeSelect [(ngModel)]="selectedCity" [options]="countries" optionLabel="cname" optionGroupLabel="name" [optionGroupChildren]="['states', 'cities']" [style]="{ minWidth: '14rem' }" placeholder="Select a City"></p-cascadeSelect>
                       <small>Country/ State/ City is required.</small>
                   </div>
                   
               </div> -->
                    <div class="col-12">
                        <label htmlFor="name1">Name</label>
                        <input id="firstname2" type="text" pInputText [autocomplete]="'off'"
                            (blur)="getErrorMessages('cname')" [(ngModel)]="createMaster.cname"
                            [disabled]="mode=='VIEW'" class="p-2 ng-invalid ng-dirty">
                        <small *ngIf="errorMessages.cname != ''">{{ errorMessages.cname}}</small>
                    </div>
                    <div class="col-12">
                        <label for="firstname2">Logo</label>
                        <div class="formgrid grid">
                            <div class="field col">
                                <p-fileUpload mode="basic" chooseLabel="Choose" name="demo[]" accept="image/*" #aa
                                    [disabled]="mode=='VIEW'" [previewWidth]="30" [maxFileSize]="fileSize()"
                                    (onSelect)="onSelect($event,'cLogo')" [fileLimit]="1"></p-fileUpload>
                            </div>
                            <div class="field col">
                                <p-image [src]="createMaster['cLogo']" alt="Image" width="50" height="50"
                                    *ngIf="createMaster['cLogo'] != null" [preview]="true"></p-image>
                            </div>
                            <div class="field col">
                                <p-button icon="pi pi-trash" severity="danger"
                                    *ngIf="createMaster['cLogo'] != null&& mode != 'VIEW'"
                                    (click)="createMaster['cLogo'] = null"></p-button>
                            </div>
                        </div>
                    </div>
                    <div class="col-6">
                        <label htmlFor="state">Country / State/ City</label>
                        <p-cascadeSelect [(ngModel)]="createMaster.city" [options]="addressList" [optionLabel]="'cname'"
                            [disabled]="mode=='VIEW'" [optionGroupLabel]="'name'"
                            [optionGroupChildren]="['states', 'cities']" class="ng-invalid ng-dirty"
                            placeholder="Select a City" [style]="{ minWidth: '14rem' }"
                            placeholder="Select a City"></p-cascadeSelect>
                        <small *ngIf="errorMessages.city != ''">{{ errorMessages.city}}</small>

                    </div>
                    <div class="col-12">
                        <label for="firstname2">Location</label>
                        <textarea rows="5" cols="30" pInputTextarea [disabled]="mode=='VIEW'"
                            class="p-2 ng-invalid ng-dirty" [(ngModel)]="createMaster.cadress"></textarea>
                        <small *ngIf="errorMessages.cadress != ''">{{ errorMessages.cadress}}</small>
                    </div>
                    <div class="col-12">
                        <label htmlFor="state">Description </label>
                        <textarea rows="5" cols="30" pInputTextarea [disabled]="mode=='VIEW'"
                            [(ngModel)]="createMaster.decs"></textarea>
                        <!-- <small>Loan amount is required.</small> -->
                    </div>
                    <div class="col-12">
                        <input type="checkbox" name="master" id="1" [(ngModel)]="createMaster.active"
                            [disabled]="mode=='VIEW' || mode == 'NEW'">
                        <label for="lastname2" class="ml-2">Active</label>
                    </div>

                    <div class="col-12">
                        <div class="grid">
                            <div class="col-6">
                                <button pButton [disabled]="mode=='VIEW'" pRipple label="Clear" (click)="hideDialog()"
                                    class="p-button-outlined"></button>

                            </div>
                            <div class="col-6">
                                <button pButton pRipple label="Submit" [disabled]="mode=='VIEW'" (click)="saveProduct()"
                                    [loading]="submitloading" class="p-button-success"></button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- 		
           <div class="card p-fluid">
               <h5>Vertical Grid</h5>
               <div class="p-formgrid grid">
                   <div class="field col">
                       <label htmlFor="name2">Name</label>
                       <input pInputText id="name2" type="text" />
                   </div>
                   <div class="field col">
                       <label htmlFor="email2">Email</label>
                       <input pInputText id="email2" type="text" />
                   </div>
                   <div class="field col">
                       <label htmlFor="name2">Name</label>
                       <input pInputText id="name2" type="text" />
                   </div>
                   <div class="field col">
                       <label htmlFor="email2">Email</label>
                       <input pInputText id="email2" type="text" />
                   </div>
               </div>
           </div> -->
            <!-- </div> -->

            <!-- <div class="col-12 md:col-6"> -->
            <!-- <div class="card p-fluid">
               <h5>Horizontal</h5>
               <div class="field grid">
                   <label htmlFor="name3" class="col-12 mb-2 md:col-2 md:mb-0">Name</label>
                   <div class="col-12 md:col-10">
                       <input pInputText id="name3" type="text" />
                   </div>
               </div>
               <div class="field grid">
                   <label htmlFor="email3" class="col-12 mb-2 md:col-2 md:mb-0">Email</label>
                   <div class="col-12 md:col-10">
                       <input pInputText id="email3" type="text" />
                   </div>
               </div>
           </div> -->

            <!-- <div class="card">
               <h5>Inline</h5>
               <div class="formgroup-inline">
                   <div class="field">
                       <label htmlFor="firstname1" class="p-sr-only">Firstname</label>
                       <input pInputText id="firstname1" type="text" placeholder="Firstname" />
                   </div>
                   <div class="field">
                       <label htmlFor="lastname1" class="p-sr-only">Lastname</label>
                       <input pInputText id="lastname1" type="text" placeholder="Lastname" />
                   </div>
                   <button pButton label="Submit"></button>
               </div>
           </div> -->

            <!-- <div class="card">
               <h5>Help Text</h5>
               <div class="field p-fluid">
                   <label htmlFor="username">Username</label>
                   <input pInputText id="username" type="text" />
                   <small>Enter your username to reset your password.</small>
               </div>
           </div> -->
            <!-- </div>  -->

            <!-- <div class="col-12">
           <div class="card">
               <h5>Advanced</h5>
               <div class="p-fluid p-formgrid grid">
                   <div class="field col-12 md:col-6">
                       <label htmlFor="firstname2">Firstname</label>
                       <input pInputText id="firstname2" type="text" />
                   </div>
                   <div class="field col-12 md:col-6">
                       <label htmlFor="lastname2">Lastname</label>
                       <input pInputText id="lastname2" type="text" />
                   </div>
                   <div class="field col-12">
                       <label htmlFor="address">Address</label>
                       <input pInputTextarea id="address" rows="4" />
                   </div>
                   <div class="field col-12 md:col-6">
                       <label htmlFor="city">City</label>
                       <input pInputText id="city" type="text" />
                   </div>
                   <div class="field col-12 md:col-3">
                       <label htmlFor="state">State</label>
                       <p-dropdown [options]="dropdownItems" optionLabel="name" [(ngModel)]="selectedState"></p-dropdown>
                   </div>
    
                   <div class="field col-12 md:col-3">
                       <label htmlFor="zip">Zip</label>
                       <input pInputText id="zip" type="text" />
                   </div>
               </div>
           </div>
       </div> -->
        </div>
    </div>

</p-sidebar>




<style>
    :host ::ng-deep .p-cascadeselect-items {
        max-height: 100px;
        overflow: auto;
    }
</style>

<p-toast position="top-right" [breakpoints]="{'920px': {width: '100%', right: '0', left: '0'}}"
    (onClose)="onMessageClose()"></p-toast>